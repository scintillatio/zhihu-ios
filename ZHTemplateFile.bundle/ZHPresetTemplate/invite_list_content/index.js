//------ts start------
//UEsDBAoAAAAAAAkyi1Zrd31K9AcAAPQHAAAIAAAAaW5kZXguanNmdW5jdGlvbiBtYWluKGRhdGEpIHsKICB2YXIgYmFnZUxhYmVPbmUgPSAiIjsKICB2YXIgYmFnZUxhYmVUd28gPSAiIjsKCiAgdmFyIGF1dGhvciA9IGRhdGEuaGVhZC5hdXRob3I7CgogIHZhciBiYWRnZXMgPSBhdXRob3IuYmFkZ2U7CiAgdmFyIGJhZGdlVjIgPSBhdXRob3IuYmFkZ2VfdjI7CgogIHZhciBkcmF3YWJsZUxpc3QgPSBuZXcgQXJyYXkoKTsKCiAgdmFyIGlzSWRlbnRpdHkgPSBmYWxzZTsKCiAgaWYgKGJhZGdlVjIgJiYgYmFkZ2VWMi5tZXJnZWRfYmFkZ2VzICYmIGJhZGdlVjIubWVyZ2VkX2JhZGdlcy5sZW5ndGggPiAwKSB7CiAgICB2YXIgZGV0YWlsTWVyZ2VkQmFkZ2VzID0gYmFkZ2VWMi5tZXJnZWRfYmFkZ2VzOwoKICAgIGZvciAodmFyIGkgaW4gZGV0YWlsTWVyZ2VkQmFkZ2VzKSB7CiAgICAgIHZhciB0eXBlID0gZGV0YWlsTWVyZ2VkQmFkZ2VzW2ldLnR5cGU7CgogICAgICBpZiAoImlkZW50aXR5IiA9PSB0eXBlKSB7CiAgICAgICAgZHJhd2FibGVMaXN0W2ldID0gInpodGVtcGxhdGVfYmFkZ2VfYmx1ZV8xNF9zdHJvY2siOwogICAgICB9IGVsc2UgaWYgKCJiZXN0IiA9PSB0eXBlIHx8ICJiZXN0X2Fuc3dlcmVyIiA9PSB0eXBlKSB7CiAgICAgICAgZHJhd2FibGVMaXN0W2ldID0gInpodGVtcGxhdGVfYmFkZ2VfeWVsbG93XzE0X3N0cm9jayI7CiAgICAgIH0gZWxzZSBpZiAoInJld2FyZCIgPT0gdHlwZSkgewogICAgICAgIGRyYXdhYmxlTGlzdFtpXSA9ICJ6aHRlbXBsYXRlX2JhZGdlX3Jld2FyZCI7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgaWYgKGJhZGdlcyAmJiBiYWRnZXMubGVuZ3RoID4gMCkgewogICAgICBmb3IgKHZhciBpIGluIGJhZGdlcykgewogICAgICAgIHZhciB0eXBlID0gYmFkZ2VzW2ldLnR5cGU7CiAgICAgICAgaWYgKCJiZXN0IiA9PSB0eXBlIHx8ICJiZXN0X2Fuc3dlcmVyIiA9PSB0eXBlKSB7CiAgICAgICAgICBkcmF3YWJsZUxpc3QudW5zaGlmdCgiemh0ZW1wbGF0ZV9iYWRnZV95ZWxsb3dfMTRfc3Ryb2NrIik7CiAgICAgICAgfSBlbHNlIGlmICgiaWRlbnRpdHkiID09IHR5cGUpIHsKICAgICAgICAgIGlzSWRlbnRpdHkgPSB0cnVlOwogICAgICAgICAgZHJhd2FibGVMaXN0W2ldID0gInpodGVtcGxhdGVfYmFkZ2VfYmx1ZV8xNF9zdHJvY2siOwogICAgICAgIH0gZWxzZSBpZiAoInJld2FyZCIgPT0gdHlwZSkgewogICAgICAgICAgZHJhd2FibGVMaXN0W2ldID0gInpodGVtcGxhdGVfYmFkZ2VfcmV3YXJkIjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGlmICghaXNJZGVudGl0eSAmJiBpc1poaWh1VmlydHVhbEFjY291bnQoYXV0aG9yLmlkKSkgewogICAgZHJhd2FibGVMaXN0WzBdID0gInpodGVtcGxhdGVfYmFkZ2VfYmx1ZV8xNF9zdHJvY2siOwogIH0KCiAgaWYgKGRyYXdhYmxlTGlzdC5sZW5ndGggPiAwKSB7CiAgICBpZiAoZHJhd2FibGVMaXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgIGJhZ2VMYWJlT25lID0gImxvY2FsOiIgKyBkcmF3YWJsZUxpc3RbMF07CiAgICB9IGVsc2UgewogICAgICBiYWdlTGFiZU9uZSA9ICJsb2NhbDoiICsgZHJhd2FibGVMaXN0WzBdOwogICAgICBiYWdlTGFiZVR3byA9ICJsb2NhbDoiICsgZHJhd2FibGVMaXN0WzFdOwogICAgfQogIH0KCiAgZGF0YS5iYWdlX2xhYmVfb25lID0gYmFnZUxhYmVPbmU7CiAgZGF0YS5iYWdlX2xhYmVfdHdvID0gYmFnZUxhYmVUd287CgogIC8vIHRhcmdldCBpZCB0byBzdHJpbmcKICBzdHJpbmdRdWVzdGlvbklkID0gZGF0YS50YXJnZXQuaWQgKyAiIjsKCiAgcmV0dXJuIHsKICAgIC4uLmRhdGEsCiAgICBiYWdlX2xhYmVfb25lOiBiYWdlTGFiZU9uZSwKICAgIGJhZ2VfbGFiZV90d286IGJhZ2VMYWJlVHdvLAogICAgc3RyaW5nX3F1ZXN0aW9uX2lkOiBzdHJpbmdRdWVzdGlvbklkLAogIH07Cn0KCmZ1bmN0aW9uIGlzWmhpaHVWaXJ0dWFsQWNjb3VudChpZCkgewogIHRyeSB7CiAgICBpZiAocGFyc2VJbnQoaWQpIDwgMCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9IGNhdGNoIChlcnIpIHt9CiAgcmV0dXJuIGZhbHNlOwp9ClBLAQIUAAoAAAAAAAkyi1Zrd31K9AcAAPQHAAAIAAAAAAAAAAAAAAAAAAAAAABpbmRleC5qc1BLBQYAAAAAAQABADYAAAAaCAAAAAA=
//------ts end------

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var _ in t=arguments[a])Object.prototype.hasOwnProperty.call(t,_)&&(e[_]=t[_]);return e},__assign.apply(this,arguments)};function main(e){var t="",a="",r=e.head.author,_=r.badge,n=r.badge_v2,s=new Array,i=!1;if(n&&n.merged_badges&&n.merged_badges.length>0){var g=n.merged_badges;for(var l in g){"identity"==(o=g[l].type)?s[l]="zhtemplate_badge_blue_14_strock":"best"==o||"best_answerer"==o?s[l]="zhtemplate_badge_yellow_14_strock":"reward"==o&&(s[l]="zhtemplate_badge_reward")}}else if(_&&_.length>0)for(var l in _){var o;"best"==(o=_[l].type)||"best_answerer"==o?s.unshift("zhtemplate_badge_yellow_14_strock"):"identity"==o?(i=!0,s[l]="zhtemplate_badge_blue_14_strock"):"reward"==o&&(s[l]="zhtemplate_badge_reward")}return!i&&isZhihuVirtualAccount(r.id)&&(s[0]="zhtemplate_badge_blue_14_strock"),s.length>0&&(1==s.length?t="local:"+s[0]:(t="local:"+s[0],a="local:"+s[1])),e.bage_labe_one=t,e.bage_labe_two=a,stringQuestionId=e.target.id+"",__assign(__assign({},e),{bage_labe_one:t,bage_labe_two:a,string_question_id:stringQuestionId})}function isZhihuVirtualAccount(e){try{if(parseInt(e)<0)return!0}catch(t){}return!1}